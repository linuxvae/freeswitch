<?xml version="1.0" encoding="utf-8"?>

<include>
<context name="public">
	<extension name="outbound-service">
		<condition field="destination_number" expression="^service$">
		</condition>
	</extension>
	<extension name="outbound132">
		<condition field="destination_number" expression="^132$">
			<action application="set" data="origination_caller_id_name=sipp"/>
			<action application="set" data="origination_caller_id_number=987654321"/>
			<action application="set" data="call_timeout=80"/>
 			<action application="bridge" data="freetdm/grp1/a/132"/> 
		</condition>
	</extension>

service	<extension name="outbound">
		<condition field="destination_number" expression="(.*)">
			<action application="set" data="dialed_number=$1"/>
			<!-- <action application="answer"/> -->
			<action application="set" data="caller_id_name=sipp"/>
			<action application="set" data="effective_caller_id_number=987654321"/>
			<action application="set_profile_var" data="caller_ton=1"/>
			<action application="set_profile_var" data="caller_numplan=0"/>
			<action application="set_profile_var" data="destination_number_ton=1"/>
			<action application="set_profile_var" data="destination_number_numplan=0"/>
 			<action application="bridge" data="freetdm/grp1/a/${dialed_number}"/> 
		</condition>
	</extension>

</context>
<context name="default">
	<extension name="fast-hangup">
		<condition field="destination_number" expression="123">
			<!-- <action application="sleep" data="1000"/> -->
			<!-- <action application="answer"/> -->
			<action application="answer"/>
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="playback" data="/usr/local/freeswitch/sounds/demo-congrats.gsm" />
			<action application="hangup" />
		</condition>
	</extension>
	<extension name="slow-hangup">
		<condition field="destination_number" expression="124">
			<action application="answer"/>
			<action application="playback" data="c:\cygwin\home\davidy\smg_freeswitch.netborder\Debug\sounds\tt-monkeys.gsm" />
			<action application="hangup" />
		</condition>
	</extension>
	<extension name="answer-then-bridge">
		<condition field="destination_number" expression="125">
			<action application="answer"/>
			<action application="bridge" data="sofia/$${domain}/123@192.168.1.144:5062"/>
			<action application="hangup" />
		</condition>
	</extension>
	<extension name="just-bridge">
		<condition field="destination_number" expression="126">
			<!-- <action application="sleep" data="20000" /> -->
			<!-- <action application="answer"/> -->
			<!-- <action application="info" /> -->
			<action application="log" data="DESTINATION_NUMBER [${destination_number}]" />
			<action application="log" data="CALLER_TON [${caller_ton}]" />
			<action application="log" data="CALLER_NPI [${caller_numplan}]" />
			<action application="log" data="DEST_TON [${destination_number_ton}]" />
			<action application="log" data="DEST_NPI [${destination_number_numplan}]" />
			<action application="bridge" data="sofia/$${domain}/123@192.168.1.145:5062"/>
			<action application="hangup" />
		</condition>
	</extension>
	<extension name="other">
		<condition field="destination_number" expression="(.*)">
			<action application="log" data="CID_NAME [${caller_id_name}]" />
			<action application="bridge" data="sofia/$${domain}/123@192.168.1.145:5062"/>
			<action application="hangup"/>
		</condition>
	</extension>
</context>
</include>
